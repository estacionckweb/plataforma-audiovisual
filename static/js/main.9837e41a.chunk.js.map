{"version":3,"sources":["assets/1px-01.png","logo.svg","Thumbnail.js","Gallery.js","TagList.js","TaggedGallery.js","EntryDetail.js","PlataformaAudiovisual.js","Loader.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Thumbnail","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this","thumb","props","entry","d1","dir","name","innerContent","react_default","a","createElement","highlighted","className","style","backgroundColor","config","color","metadata","title","vidUrl","ogg","onMouseOver","onThumbHover","index","onMouseOut","onMouseDown","onSelectEntry","background","backgroundSize","autoPlay","muted","loop","poster","transparent","src","type","Component","Gallery","self","entries","map","uniq","hoverEntryUniq","hoverTag","subject","indexOf","label","Link","to","identifier","src_Thumbnail","assign","key","TagList","tags","tag","hoverEntry","onTagHover","App","state","bind","assertThisInitialized","el","setState","mainGallery","src_TagList","src_Gallery","EntryDetail","entryObj","match","params","forEach","console","log","vid","mp4","entryArray","push","controls","date","dangerouslySetInnerHTML","__html","description","TaggedGallery","withRouter","selectedEntry","Switch","Route","exact","path","src_EntryDetail","Loader","query","isLoaded","error","_this2","records","request","get","end","_ref","asyncToGenerator","regenerator_default","mark","_callee","err","res","wrap","_context","prev","next","body","response","docs","Promise","all","doc","then","resArray","ids","obj","thumbs","files","filter","file","format","length","undefined","Array","isArray","subjectArray","split","tagArray","values","sort","b","stop","_x","_x2","apply","arguments","content","PlataformaAudiovisual","src_Loader_0","HashRouter","basename","process","Boolean","window","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iSAAAA,EAAAC,QAAA,8UCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,8RC+CzBC,cA1Cb,SAAAA,IAAe,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAD,GAAAM,KAAAH,6EAIN,IAAAI,EAAAJ,KAEHK,EAAQ,UAAYL,KAAKM,MAAMC,MAAMC,GAAKR,KAAKM,MAAMC,MAAME,IAAM,IAAMT,KAAKM,MAAMC,MAAMF,MAAMK,KAC9FC,EAAeC,EAAAC,EAAAC,cAAA,aACW,IAA3Bd,KAAKM,MAAMS,cAAsBJ,EAAeC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gEAAgEC,MAAO,CAACC,gBAAiBC,EAAOC,QAA/G,IAAyHpB,KAAKM,MAAMC,MAAMc,SAASC,MAAnJ,MAenD,IAAIC,EAAS,UAAYvB,KAAKM,MAAMC,MAAMC,GAAKR,KAAKM,MAAMC,MAAME,IAAM,IAAMT,KAAKM,MAAMC,MAAMiB,IAAId,KACjG,OAAOE,EAAAC,EAAAC,cAAA,OACHE,UAAU,wBACVS,YAAa,WAAKrB,EAAKE,MAAMoB,aAAatB,EAAKE,MAAMqB,QACrDC,WAAY,WAAKxB,EAAKE,MAAMoB,aAAa,OACzCG,YAAa,WAAKzB,EAAKE,MAAMwB,cAAc1B,EAAKE,MAAMqB,QACtDV,MAAO,CAAEc,WAAY,OAAS1B,EAAQ,IAAK2B,eAAgB,UAEzDpB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,SAASiB,UAAU,EAAMC,OAAO,EAAMC,MAAM,EAAMC,OAAQC,KACzEzB,EAAAC,EAAAC,cAAA,UAAQwB,IAAKf,EAAQgB,KAAK,eAEzB5B,WApCS6B,qBCyBTC,cAxBb,SAAAA,IAAe,OAAA3C,OAAAC,EAAA,EAAAD,CAAAE,KAAAyC,GAAA3C,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2C,GAAAtC,KAAAH,6EAIN,IAAAI,EAAAJ,KACH0C,EAAO1C,KACX,OACEY,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACZhB,KAAKM,MAAMqC,QAAQC,IAAI,SAACrC,EAAOoB,GAC9B,IAAIZ,GAAc,EAGlB,OAFGR,EAAMsC,OAASzC,EAAKE,MAAMwC,iBAAgB/B,GAAc,GAChC,OAAxBX,EAAKE,MAAMyC,UAAqBxC,EAAMc,SAAS2B,QAAQC,QAAQ7C,EAAKE,MAAMyC,SAASG,QAAU,IAAGnC,GAAc,GAE/GH,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAMC,GAAI,SAAS7C,EAAMc,SAASgC,WAAYrC,UAAU,wBACtDJ,EAAAC,EAAAC,cAACwC,EAADxD,OAAAyD,OAAA,GAAeb,EAAKpC,MAApB,CAA2BC,MAAOA,EAAOQ,YAAaA,EAAayC,IAAK7B,EAAOA,MAAOA,gBAf9Ea,aC0BPiB,cA1Bb,SAAAA,IAAe,OAAA3D,OAAAC,EAAA,EAAAD,CAAAE,KAAAyD,GAAA3D,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2D,GAAAtD,KAAAH,6EAIN,IAAAI,EAAAJ,KAGP,OACEY,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACZhB,KAAKM,MAAMoD,KAAKd,IAAI,SAACe,EAAKhC,GACzB,IAAIP,EAAQ,WAGZ,OAF6B,OAA1BhB,EAAKE,MAAMsD,YAAuBxD,EAAKE,MAAMsD,WAAWvC,SAAS2B,QAAQC,QAAQU,EAAIT,QAAU,IAAG9B,EAAO,gBACjF,OAAxBhB,EAAKE,MAAMyC,UAAqB3C,EAAKE,MAAMyC,SAASG,QAAUS,EAAIT,QAAO9B,EAAO,gBAC5ER,EAAAC,EAAAC,cAAA,OACLE,UAAW,kDAAoDI,EAC/DK,YAAa,kBAAIrB,EAAKE,MAAMuD,WAAWlC,IACvCC,WAAY,kBAAIxB,EAAKE,MAAMuD,WAAW,OACtCL,IAAK7B,GAEFgC,EAAIT,iBApBGV,aCkDPsB,cAhDb,SAAAA,IAAc,IAAA1D,EAAA,OAAAN,OAAAC,EAAA,EAAAD,CAAAE,KAAA8D,IACZ1D,EAAAN,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgE,GAAA3D,KAAAH,QACK+D,MAAQ,CACXhB,SAAU,KACVa,WAAY,MAEdxD,EAAKsB,aAAetB,EAAKsB,aAAasC,KAAlBlE,OAAAmE,EAAA,EAAAnE,QAAAmE,EAAA,EAAAnE,CAAAM,KACpBA,EAAKyD,WAAazD,EAAKyD,WAAWG,KAAhBlE,OAAAmE,EAAA,EAAAnE,QAAAmE,EAAA,EAAAnE,CAAAM,KAPNA,0EAUH8D,GAEC,OAAPA,EACDlE,KAAKmE,SAAS,CAAEpB,SAAU/C,KAAKM,MAAMoD,KAAKQ,KAE1ClE,KAAKmE,SAAS,CAAEpB,SAAU,4CAIjBmB,GACD,OAAPA,EACDlE,KAAKmE,SAAS,CAAEP,WAAY5D,KAAKM,MAAMqC,QAAQuB,KAE/ClE,KAAKmE,SAAS,CAAEP,WAAY,wCAK9B,IAAIQ,EAYJ,OAXEA,EAAcxD,EAAAC,EAAAC,cAAA,WACZF,EAAAC,EAAAC,cAACuD,EAAD,CAASX,KAAM1D,KAAKM,MAAMoD,KAAOE,WAAY5D,KAAK+D,MAAMH,WAAYC,WAAY7D,KAAK6D,WAAYd,SAAU/C,KAAK+D,MAAMhB,WACtHnC,EAAAC,EAAAC,cAACwD,EAAD,CACE3B,QAAS3C,KAAKM,MAAMqC,QACpBb,cAAe9B,KAAKM,MAAMwB,cAC1BiB,SAAU/C,KAAK+D,MAAMhB,SACrBrB,aAAc1B,KAAK0B,aACnBoB,eAA0C,OAA1B9C,KAAK+D,MAAMH,WAAsB,KAAO5D,KAAK+D,MAAMH,WAAWf,QAKlFjC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,IACZoD,UA3CS5B,qBCAZ+B,cACJ,SAAAA,IAAe,OAAAzE,OAAAC,EAAA,EAAAD,CAAAE,KAAAuE,GAAAzE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyE,GAAApE,KAAAH,6EAIN,IAAAI,EAAAJ,KACHwE,EAAW,KACZxE,KAAKM,MAAMmE,MAAMC,OAAOrB,YACzBrD,KAAKM,MAAMqC,QAAQgC,QAAQ,SAAApE,GACtBH,EAAKE,MAAMmE,MAAMC,OAAOrB,aAAe9C,EAAMc,SAASgC,aACvDmB,EAAWjE,KAOjBqE,QAAQC,IAAI,OAAQ7E,KAAKM,OACzB,IACIwE,EAAM,UAAYN,EAAShE,GAAKgE,EAAS/D,IAAM,IAAM+D,EAASO,IAAIrE,KAElEsE,EAAa,GACbrC,EAAU,GAmBd,OAjBA3C,KAAKM,MAAMoD,KAAKiB,QAAQ,SAAChB,GACvBA,EAAIhB,QAAQgC,QAAQ,SAACpE,GACnB,GAAGA,EAAMsC,OAAS2B,EAAS3B,KAAM,CAC/B,IAAIlB,EAAQqD,EAAW/B,QAAQ1C,EAAMsC,MACrC+B,QAAQC,IAAItE,EAAMsC,KAAMmC,EAAYrD,GACjCA,EAAQ,IACTqD,EAAWC,KAAK1E,EAAMsC,MACtBF,EAAQsC,KAAK1E,SAMrBqE,QAAQC,IAAI,cAAeG,GAKzBpE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACbJ,EAAAC,EAAAC,cAAA,SAAOmB,UAAU,EAAMiD,UAAU,EAAMlE,UAAU,UAC/CJ,EAAAC,EAAAC,cAAA,UAAQwB,IAAKwC,EAAKvC,KAAK,eAEzB3B,EAAAC,EAAAC,cAAA,MAAIE,UAAU,OAAd,IAAsBwD,EAASnD,SAASC,MAAxC,KACAV,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OAAf,IAAuBwD,EAASnD,SAAS8D,KAAzC,KACAvE,EAAAC,EAAAC,cAAA,KAAGE,UAAU,MAAMoE,wBAAyB,CAACC,OAAQb,EAASnD,SAASiE,eACvE1E,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aAAd,mBACAJ,EAAAC,EAAAC,cAACyE,EAAD,CAAe5C,QAASA,EAASe,KAAM1D,KAAKM,MAAMoD,KAAM5B,cAAe9B,KAAKM,MAAMwB,wBAlDhEU,aAwDXgD,cAAWjB,mBCHXT,cAnDb,SAAAA,IAAc,IAAA1D,EAAA,OAAAN,OAAAC,EAAA,EAAAD,CAAAE,KAAA8D,IACZ1D,EAAAN,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgE,GAAA3D,KAAAH,QACK+D,MAAQ,CACX0B,cAAe,MAEjBrF,EAAK0B,cAAgB1B,EAAK0B,cAAckC,KAAnBlE,OAAAmE,EAAA,EAAAnE,QAAAmE,EAAA,EAAAnE,CAAAM,KALTA,6EAQA8D,GACF,OAAPA,EACDlE,KAAKmE,SAAS,CAAEsB,cAAezF,KAAKM,MAAMqC,QAAQuB,KAElDlE,KAAKmE,SAAS,CAAEsB,cAAe,wCAoBjC,OACE7E,EAAAC,EAAAC,cAAA,OAAKE,UAAU,IACfJ,EAAAC,EAAAC,cAAC4E,EAAA,EAAD,KACE9E,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,KACZjF,EAAAC,EAAAC,cAACyE,EAAD,CACE7B,KAAM1D,KAAKM,MAAMoD,KACjBf,QAAS3C,KAAKM,MAAMqC,QACpBb,cAAe9B,KAAK8B,iBAG5BlB,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOE,KAAK,qBACNjF,EAAAC,EAAAC,cAACgF,EAAD,CAAavF,MAAOP,KAAK+D,MAAM0B,cAAe/B,KAAM1D,KAAKM,MAAMoD,KAAMf,QAAS3C,KAAKM,MAAMqC,QAASb,cAAe9B,KAAK8B,0BA5ClHU,aCqBHuD,qBAtBb,SAAAA,IAAe,OAAAjG,OAAAC,EAAA,EAAAD,CAAAE,KAAA+F,GAAAjG,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiG,GAAA5F,KAAAH,6EAOb,OACEY,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACfJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACfJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACfJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACfJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACfJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,0BAhBJwB,cCejBwD,SAAQ7E,EAAO6E,OAmHJlC,cA3Gb,SAAAA,IAAc,IAAA1D,EAAA,OAAAN,OAAAC,EAAA,EAAAD,CAAAE,KAAA8D,IACZ1D,EAAAN,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgE,GAAA3D,KAAAH,QACK+D,MAAQ,CACXpB,QAAS,GACTe,KAAM,GACNuC,UAAU,EACVC,MAAO,MANG9F,oFAWO,IAAA+F,EAAAnG,KACf0C,EAAO1C,KAELoG,EAAU,GACV1C,EAAO,GACb2C,IACGC,IAlCO,uCAkCON,GACdO,IAFH,eAAAC,EAAA1G,OAAA2G,EAAA,EAAA3G,CAAA4G,EAAA7F,EAAA8F,KAEO,SAAAC,EAAOC,EAAKC,GAAZ,OAAAJ,EAAA7F,EAAAkG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACAL,GACDjC,QAAQC,IAAI,QAASgC,GACrBV,EAAKhC,SAAS,CAAC+B,MAAOW,MAEtBjC,QAAQC,IAAI,WAAYiC,EAAIK,KAAKC,SAASC,MAErBC,QAAQC,IAC3BT,EAAIK,KAAKC,SAASC,KAAKzE,IAAK,SAAC4E,GAAD,OAC1BnB,IAAQC,IA1CA,gCA0CsBkB,EAAInE,eAGpCoE,KAAK,SAACC,GAEN,IAAMC,EAAMD,EAAS9E,IAAI,SAACkE,GACxB,IAAIc,EAAMd,EAAIK,KACdvC,QAAQC,IAAI,MAAO+C,GAGnB,IAAIC,EAASD,EAAIE,MAAMC,OAAO,SAACC,GAAD,MAAuB,aAAbA,EAAKC,QAAkC,aAAbD,EAAKC,SAKvE,GAJAL,EAAIvH,MAAQwH,EAAOA,EAAOK,OAAO,GACjCN,EAAIpG,IAAMoG,EAAIE,MAAMC,OAAO,SAACC,GAAD,MAAuB,aAAbA,EAAKC,SAAqB,GAC/DL,EAAI7C,IAAM6C,EAAIE,MAAMC,OAAO,SAACC,GAAD,MAAuB,SAAbA,EAAKC,QAAkC,SAAfD,EAAKC,SAAmB,QAEtEE,IAAZP,EAAIpG,UAAiC2G,IAAZP,EAAI7C,IAAmB,OAAO,KAE5D,GAAG6C,EAAIvG,SAAS2B,QAAU,CACxB,IAAIoF,MAAMC,QAAQT,EAAIvG,SAAS2B,SAAS,CACtC,IAAIsF,EAAeV,EAAIvG,SAAS2B,QAAQuF,MAAM,KAC9CX,EAAIvG,SAAS2B,QAAUsF,EAGvBV,EAAIvG,SAAS2B,QAAQ2B,QAAQ,SAAChB,GAEzBD,EAAKC,GACND,EAAKC,GAAKhB,QAAQsC,KAAK2C,GAEvBlE,EAAKC,GAAO,CACVT,MAAOS,EACPhB,QAAS,CAACiF,WAKlBA,EAAIvG,SAAS2B,QAAU,GAGvB,YADemF,IAAZP,EAAIpG,UAAiC2G,IAAZP,EAAI7C,MAAmBqB,EAAQU,EAAIK,KAAK9F,SAASgC,YAAcuE,GACpFd,EAAIK,KAAK9F,SAASgC,aAEvBmF,EAAW1I,OAAO2I,OAAO/E,GAC7B8E,EAASE,KAAK,SAAC7H,EAAG8H,GAAJ,OAAU9H,EAAE8B,QAAQuF,OAASS,EAAEhG,QAAQuF,SACrDtD,QAAQC,IAAI,OAAQuB,EAASuB,EAAKa,GAClC9F,EAAKyB,SAAS,CACZxB,QAAS7C,OAAO2I,OAAOrC,GACvB1C,KAAM8E,EACNvC,UAAU,OAvDb,wBAAAe,EAAA4B,SAAAhC,EAAA5G,SAFP,gBAAA6I,EAAAC,GAAA,OAAAtC,EAAAuC,MAAA/I,KAAAgJ,YAAA,qCAsEA,IAAIC,EAAU,KAWd,OATEA,GADyB,IAAxBjJ,KAAK+D,MAAMkC,SACFrF,EAAAC,EAAAC,cAACoI,EAAD,CAAuBxF,KAAM1D,KAAK+D,MAAML,KAAMf,QAAS3C,KAAK+D,MAAMpB,UAElE/B,EAAAC,EAAAC,cAACqI,EAAD,MAQVvI,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CAAQC,SAAUC,IACd1I,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACZiI,WArGKzG,aCbE+G,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASjF,MACvB,2DCZNkF,IAASC,OAAOhJ,EAAAC,EAAAC,cAAC+I,EAAD,MAASC,SAASC,eAAe,SDuH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzC,KAAK,SAAA0C,GACjCA,EAAaC","file":"static/js/main.9837e41a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADtJREFUeNpi+P//PwNAADGACIAAYgSzgAAggOAMJgYoAAgguAgMMDGgAYAAIqyCsABAgGGYQVAH9RUAAMKWFQEBzFDaAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { Component } from 'react';\nimport transparent from './assets/1px-01.png'\nimport config from './config.json'\n\nclass Thumbnail extends Component {\n  constructor() {\n    super()\n  }\n\n  render() {\n  //  console.log('thumb', this.props)\n    var thumb = 'http://' + this.props.entry.d1 + this.props.entry.dir + '/' + this.props.entry.thumb.name\n    var innerContent = <div></div>\n    if(this.props.highlighted === true) innerContent = <div className=\"p-2 h-full text-3xl text-white uppercase absolute pin-t pin-l\" style={{backgroundColor: config.color}}> {this.props.entry.metadata.title} </div>\n    // return (\n    //   <div\n    //     className=\"m-4 cursor-pointer\"\n    //     onMouseOver={()=>{this.props.onThumbHover(this.props.index)}}\n    //     onMouseOut={()=>{this.props.onThumbHover(null)}}\n    //     onMouseDown={()=>{this.props.onSelectEntry(this.props.index)}}\n    //     style={{width: '180px', height: '124px', background: 'url(' + thumb + ')'}}\n    //     >\n    //\n    //     {innerContent}\n    //   </div>\n    // );\n\n    //style={{ background: 'url(' + thumb + ')', backgroundSize: 'cover'}}\n    var vidUrl = 'http://' + this.props.entry.d1 + this.props.entry.dir + '/' + this.props.entry.ogg.name\n    return <div\n        className=\"w-full cursor-pointer\"\n        onMouseOver={()=>{this.props.onThumbHover(this.props.index)}}\n        onMouseOut={()=>{this.props.onThumbHover(null)}}\n        onMouseDown={()=>{this.props.onSelectEntry(this.props.index)}}\n        style={{ background: 'url(' + thumb + ')', backgroundSize: 'cover'}}\n        >\n          <div className=\"relative\">\n            <video className=\"w-full\" autoPlay={true} muted={true} loop={true} poster={transparent}>\n              <source src={vidUrl} type=\"video/ogg\" />\n              </video>\n              {innerContent}\n          </div>\n        </div>\n\n  }\n}\n\nexport default Thumbnail;\n","import React, { Component } from 'react';\nimport Thumbnail from './Thumbnail.js'\nimport { Link } from \"react-router-dom\";\n\nclass Gallery extends Component {\n  constructor() {\n    super()\n  }\n\n  render() {\n    var self = this\n    return (\n      <div className=\"flex flex-wrap\">\n        {this.props.entries.map((entry, index) => {\n          var highlighted = false\n          if(entry.uniq === this.props.hoverEntryUniq) highlighted = true\n          if(this.props.hoverTag !== null && entry.metadata.subject.indexOf(this.props.hoverTag.label) >= 0) highlighted = true\n          return (\n            <Link to={'/item/'+entry.metadata.identifier} className=\"w-1/3 cursor-pointer\">\n              <Thumbnail {...self.props} entry={entry} highlighted={highlighted} key={index} index={index}/>\n            </Link>\n          )\n        })\n        }\n      </div>\n    );\n  }\n}\n\nexport default Gallery;\n","import React, { Component } from 'react';\n\n\nclass TagList extends Component {\n  constructor() {\n    super()\n  }\n\n  render() {\n  //  console.log('thumb', this.props)\n    //var thumb = 'http://' + this.props.entry.d1 + this.props.entry.dir + '/' + this.props.entry.thumb.name\n    return (\n      <div className=\"w-full m-4\">\n        {this.props.tags.map((tag, index) => {\n          var color = \"bg-black\"\n          if(this.props.hoverEntry !== null && this.props.hoverEntry.metadata.subject.indexOf(tag.label) > -1) color= \"bg-pink-dark\"\n          if(this.props.hoverTag !== null && this.props.hoverTag.label === tag.label) color= \"bg-pink-dark\"\n          return <div\n            className={\"inline-block m-1 p-2 text-white cursor-pointer \" + color}\n            onMouseOver={()=>this.props.onTagHover(index)}\n            onMouseOut={()=>this.props.onTagHover(null)}\n            key={index}\n            >\n              {tag.label}</div>\n        })}\n      </div>\n    );\n  }\n}\n\nexport default TagList;\n","import React, { Component } from 'react';\nimport Gallery from './Gallery.js'\nimport TagList from './TagList.js'\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      hoverTag: null,\n      hoverEntry: null,\n    }\n    this.onThumbHover = this.onThumbHover.bind(this)\n    this.onTagHover = this.onTagHover.bind(this)\n  }\n\n  onTagHover(el) {\n  //  console.log(\"tag hover\", el)\n    if(el !== null) {\n      this.setState({ hoverTag: this.props.tags[el]})\n    } else {\n      this.setState({ hoverTag: null})\n    }\n  }\n\n  onThumbHover(el) {\n    if(el !== null) {\n      this.setState({ hoverEntry: this.props.entries[el]})\n    } else {\n      this.setState({ hoverEntry: null})\n    }\n\n  }\n  render() {\n    var mainGallery = null\n      mainGallery = <div>\n        <TagList tags={this.props.tags}  hoverEntry={this.state.hoverEntry} onTagHover={this.onTagHover} hoverTag={this.state.hoverTag}/>\n        <Gallery\n          entries={this.props.entries}\n          onSelectEntry={this.props.onSelectEntry}\n          hoverTag={this.state.hoverTag}\n          onThumbHover={this.onThumbHover}\n          hoverEntryUniq={this.state.hoverEntry === null ? null : this.state.hoverEntry.uniq}\n        />\n      </div>\n\n    return (\n      <div className=\"\">\n        {mainGallery}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport TaggedGallery from './TaggedGallery.js'\nimport { withRouter, Route, Link} from \"react-router-dom\";\n\nclass EntryDetail extends Component {\n  constructor() {\n    super()\n  }\n\n  render() {\n    var entryObj = null\n    if(this.props.match.params.identifier) {\n      this.props.entries.forEach(entry => {\n        if(this.props.match.params.identifier === entry.metadata.identifier){\n          entryObj = entry\n        }\n      })\n    } else {\n      // to do: do something for entry not found\n    }\n\n    console.log('tags', this.props)\n    var self = this\n    var vid = 'http://' + entryObj.d1 + entryObj.dir + '/' + entryObj.mp4.name\n  //  var tags = entryObj.metadata.content\n    var entryArray = []\n    var entries = []\n\n    this.props.tags.forEach((tag) => {\n      tag.entries.forEach((entry) => {\n        if(entry.uniq !== entryObj.uniq) {\n          var index = entryArray.indexOf(entry.uniq)\n          console.log(entry.uniq, entryArray, index)\n          if(index < 0) {\n            entryArray.push(entry.uniq)\n            entries.push(entry)\n          }\n        }\n      })\n      }\n    )\n    console.log('entry array', entryArray)\n\n\n    //var entries = entryArray.map()\n    return (\n      <div className=\"mb-10\">\n        <video autoPlay={true} controls={true} className=\"w-full\">\n          <source src={vid} type=\"video/mp4\" />\n        </video>\n        <h1 className=\"m-6\"> {entryObj.metadata.title} </h1>\n        <div className=\"m-6\"> {entryObj.metadata.date} </div>\n        <p className=\"m-6\" dangerouslySetInnerHTML={{__html: entryObj.metadata.description}}></p>\n        <h3 className=\"mt-12 m-6\"> Relacionados: </h3>\n        <TaggedGallery entries={entries} tags={this.props.tags} onSelectEntry={this.props.onSelectEntry}/>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(EntryDetail);\n","import React, { Component } from 'react';\nimport TaggedGallery from './TaggedGallery.js'\nimport EntryDetail from './EntryDetail.js'\nimport { Route, Switch} from \"react-router-dom\";\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      selectedEntry: null\n    }\n    this.onSelectEntry = this.onSelectEntry.bind(this)\n  }\n\n  onSelectEntry(el) {\n    if(el !== null) {\n      this.setState({ selectedEntry: this.props.entries[el]})\n    } else {\n      this.setState({ selectedEntry: null})\n    }\n  }\n\n  render() {\n    // var mainGallery = null\n    // if(this.state.selectedEntry !== null) {\n    //   mainGallery = <EntryDetail entry={this.state.selectedEntry} tags={this.props.tags} onSelectEntry={this.onSelectEntry}/>\n    // } else {\n    //   mainGallery = <TaggedGallery\n    //     tags={this.props.tags}\n    //     entries={this.props.entries}\n    //     onSelectEntry={this.onSelectEntry}\n    //   />\n    // }\n    // <Switch>\n    //   <Route exact path=\"/\">\n    //     <PlataformaAudiovisual tags={this.state.tags} entries={this.state.entries}/>\n    //   </Route>\n    // </Switch>\n    return (\n      <div className=\"\">\n      <Switch>\n        <Route exact path=\"/\">\n              <TaggedGallery\n                tags={this.props.tags}\n                entries={this.props.entries}\n                onSelectEntry={this.onSelectEntry}\n              />\n        </Route>\n        <Route path=\"/item/:identifier\">\n              <EntryDetail entry={this.state.selectedEntry} tags={this.props.tags} entries={this.props.entries} onSelectEntry={this.onSelectEntry}/>\n        </Route>\n      </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport './Loader.css';\n\nclass Loader extends Component {\n  constructor() {\n    super()\n  }\n\n  render() {\n    var self = this\n\n    return (\n      <div className=\"loader-container\">\n        <div className=\"loader\">\n          <div className=\"loader__bar\"></div>\n          <div className=\"loader__bar\"></div>\n          <div className=\"loader__bar\"></div>\n          <div className=\"loader__bar\"></div>\n          <div className=\"loader__bar\"></div>\n          <div className=\"loader__ball\"></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport request from 'superagent'\nimport { HashRouter as Router} from \"react-router-dom\";\nimport PlataformaAudiovisual from './PlataformaAudiovisual.js'\nimport Loader from './Loader.js'\nimport config from './config.json'\nimport './App.css';\n\nvar baseUrl = 'https://api.archivelab.org/search?q='\n\nvar metadataBaseUrl = 'https://archive.org/metadata/'\n\n// get all entries created by Plataforma Bogota of type movie. Returns an array of identifiers that can\n// then be used with the metadata api.\n// formulate queries using: https://archive.org/advancedsearch.php\n//var query = 'creator%3A%28Plataforma%20Bogota%29%20AND%20mediatype%3A%28movies%29'\n\nvar query = config.query\n\n//var query = '%28Gaitan%29%20AND%20mediatype%3A%28movies%29'\n// var query = '%28bogota%29%20AND%20mediatype%3A%28movies%29'\n\n\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      entries: [],\n      tags: [],\n      isLoaded: false,\n      error: null\n    }\n  }\n\n  // When component is loaded, download initial information from internet archive\n  componentWillMount() {\n    var self = this\n\n    const records = {}\n    const tags = {}\n    request\n      .get(baseUrl + query)\n      .end(async (err, res) => {\n        if(err) {\n          console.log('error', err)\n          this.setState({error: err})\n        } else {\n          console.log('response', res.body.response.docs)\n          //this.setState({ recordsAll: res.body.response.docs.map((doc) => doc.identifier)})\n          const detailedInfo = Promise.all(\n            res.body.response.docs.map( (doc) => (\n              request.get(metadataBaseUrl + doc.identifier)//.then((err, res) => res)\n\n            ))\n          ).then((resArray) => {\n            // process information received from archive api\n            const ids = resArray.map((res) => {\n              var obj = res.body\n              console.log('obj', obj)\n              // get thumbnail\n\n              var thumbs = obj.files.filter((file) => file.format==\"Item Tile\"||file.format==\"Thumbnail\")\n              obj.thumb = thumbs[thumbs.length-1]\n              obj.ogg = obj.files.filter((file) => file.format==\"Ogg Video\")[0]\n              obj.mp4 = obj.files.filter((file) => file.format==\"MPEG4\" || file.format == \"h.264\")[0]\n\n              if(obj.ogg === undefined || obj.mp4 === undefined) return null\n              // add tags to tags list\n            if(obj.metadata.subject)  {\n              if(!Array.isArray(obj.metadata.subject)){\n                var subjectArray = obj.metadata.subject.split(';')\n                obj.metadata.subject = subjectArray\n                //console.log('sub array', obj.metadata.subject)\n              }\n                obj.metadata.subject.forEach((tag)=>{\n                  // If tags list already contains tag, add to list of entries\n                  if(tags[tag]){\n                    tags[tag].entries.push(obj)\n                  } else {\n                    tags[tag] = {\n                      label: tag,\n                      entries: [obj]\n                    }\n                  }\n                })\n            } else {\n              obj.metadata.subject = []\n            }\n              if(obj.ogg !== undefined && obj.mp4 !== undefined) records[res.body.metadata.identifier] = obj\n              return res.body.metadata.identifier\n            })\n            var tagArray = Object.values(tags)\n            tagArray.sort((a, b) => a.entries.length - b.entries.length)\n            console.log(\"TAGS\", records, ids, tagArray)\n            self.setState({\n              entries: Object.values(records),\n              tags: tagArray,\n              isLoaded: true\n            })\n          })\n\n        //  console.log('detailed info', detailedInfo)\n        }\n      })\n  }\n\n\n  //<PlataformaAudiovisual tags={this.state.tags} entries={this.state.entries}/>\n\n  render() {\n    var content = null\n    if(this.state.isLoaded === true) {\n      content = <PlataformaAudiovisual tags={this.state.tags} entries={this.state.entries}/>\n    } else {\n      content = <Loader />\n    }\n    //  {content}\n    // <Route render={({ location }) => (\n    //     <Route exact path=\"/\"> <PlataformaAudiovisual tags={this.state.tags} entries={this.state.entries}/> </Route>\n    // )} />\n\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n          <div className=\"flex font-sans\">\n            {content}\n          </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}